<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/core-ajax/core-ajax.html">
<polymer-element name="notification-hub">
  <template>
    <nav>
      <core-ajax url="{{url}}" auto handleAs="json" response="{{resp}}"></core-ajax>
      <ul>
        <li>Notif</li>
        <li>{{resp.user.name}}</li>
        <li> Messages
          <ul>
          <template repeat="{{message in resp.messages}}">
            <li>{{message}}</li>
          </template>
        </ul></li>
        <li> Notifications
          <ul>
          <template repeat="{{notif in resp.notifications}}">
            <li>{{notif}}</li>
          </template>
        </ul></li>
     </template>
      </ul>
    </nav>
  </template>
  <style>
    notification-hub::shadow ul {
      list-style-type : none; 
    }
    notification-hub::shadow ul li{
      display : inline;
      padding : 0 0.5em; /* Pour espacer les boutons entre eux */
    }
  </style>
  <script>
    Polymer('notification-hub', {
      created: function() {
        this.url ='http://localhost:8888/data'
      }
    });
  </script>
</polymer-element>
